### **AI Strategic Planning System: Conceptual Model**

**(Last Updated: July 8, 2025)**

---

**I. Core Objective & Rewards:**

* **Primary Goal:** Achieve  **simultaneous and linear growth in both company size and profit** . The AI's reward function will balance these two aspects.
* **Constraints:**
  * Avoid negative profits and company bankruptcy. Simulation will penalize and backtrack from such states.
  * Maintain **100% workforce satisfaction** for all used workers, allowing only negligible deviations for minor material trade-offs.

---

**II. Simulation Environment & Mechanics:**

* **Initial State:** Starts from the exact current real-world company state provided by the client (current cash, production lines, storage, workforce, existing permits, HQ level).
* **Time Progression:** Simulation runs on a daily/hourly time step. The overall plan generated by the AI covers "incoming months." The 7-day population boom cycle is a critical constraint.
* **No Transport Simulation:** Materials are considered instantly available between company locations.
* **Static Market:** Market prices (IC1) are fixed based on provided JSON data. All buying/selling is instantaneous at these prices.
* **Infinite Resources:** Natural planetary resources are assumed infinite at extraction sites.

---

**III. Resource Management & Financial Model:**

* **Revenue:** Solely from selling excess materials on the exchange.
* **Costs:**
  * **Production Costs:** Raw material inputs and workforce needs per recipe.
  * **Building Repair:** Every 60 days, consumes 30-50% of the *exact same materials* used for initial construction for repairs.
* **Material Sourcing Decision (Build-or-Buy):** For  **all materials needed for building new structures (including HQ upgrades)** , AI performs a cost-benefit analysis:
  * **Cost of Production:** Factor in setup (buildings, workforce), recurring production costs, and opportunity cost.
  * **Cost of Buying:** Direct market price.
  * **Strategic Fit:** Evaluate dedication of resources (e.g., "5 bases for one material") against overall growth and self-sustainability goals.
* **Selling Protocol for Excess Materials:**
  * **Self-Supply Materials:** Any material input to company's production orders.
  * **Buffer:** A 7-day consumption buffer is required for self-supply materials.
  * **Selling Logic:**
    1. If a self-supply material's stock is **below** `(Daily Consumption * 7 days buffer) + 10%`, it  **must NOT be sold** .
    2. If storage reaches **100% capacity** (volume or weight), any material exceeding `(7-day buffer + 10%)` can be sold, up to the point of not going below the required buffer.
    3. Otherwise (storage not 100% full, and not below critical threshold), prioritize internal use and storage over selling.

---

**IV. Expansion & HQ Mechanics:**

* **Permits:** Start with 2 permits. Each HQ level (up to max 50) grants +1 permit. HQ upgrades are instant upon acquisition of required materials.
* **Building Area:** Base 500 units per base, +250 units per permit used for expansion.
* **Action Types:** AI can plan to build new structures (production, habitats, STO), adjust production orders (queue system), and manage selling/buying.

---

**V. AI Output:**

* A comprehensive, detailed plan including:
  * Summary of optimal build order and locations.
  * Initial capital, expected profit, and estimated time horizon (days/months/years) of the plan.
  * Expected production lines, daily raw production, daily consumption, and net delta for key materials.
  * Detailed breakdown of what to build, where, its cost (materials, ICA), and required material quantities.

---

**Development Progress Checklist:**

To help us track progress, we can use a checklist based on these sections. When you confirm that a specific part of the simulation or AI logic is implemented and working on your end, I'll mark it as complete.

**Current Status:** All conceptual modeling is complete.

* [ ] **I. Core Objective & Rewards**
  * [ ] Primary Goal (Company Growth + Profit) defined in code
  * [ ] Avoid Bankruptcy/Negative Profits Logic implemented
  * [ ] Workforce Satisfaction Logic implemented
* [ ] **II. Simulation Environment & Mechanics**
  * [ ] Initial State Loading implemented
  * [ ] Time Progression (Daily/Hourly, Pop Cycle) implemented
  * [ ] No Transport Simulation applied
  * [ ] Static Market Model implemented
  * [ ] Infinite Resources modeled
* [ ] **III. Resource Management & Financial Model**
  * [ ] Revenue from Sales implemented
  * [ ] Production Costs calculated
  * [ ] Building Repair Cost Logic implemented
  * [ ] Material Sourcing Decision (Build-or-Buy) Logic implemented
  * [ ] Selling Protocol for Excess Materials implemented
* [ ] **IV. Expansion & HQ Mechanics**
  * [ ] Permit System (HQ levels, costs, area) implemented
  * [ ] Action Types (Build, Adjust Production, Buy/Sell) implemented
* [ ] **V. AI Output**
  * [ ] Detailed Plan Generation implemented
